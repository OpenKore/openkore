# =============================================================================
# AI Sidecar Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment
# All values can be overridden via environment variables
# =============================================================================

# -----------------------------------------------------------------------------
# ZeroMQ IPC Configuration
# -----------------------------------------------------------------------------

# ZMQ socket bind address (REP socket listens here)
AI_ZMQ_BIND_ADDRESS=tcp://127.0.0.1:5555

# Socket timeout in milliseconds (0 = blocking)
AI_ZMQ_RECV_TIMEOUT_MS=100

# Send timeout in milliseconds
AI_ZMQ_SEND_TIMEOUT_MS=100

# High water mark for outgoing messages (0 = unlimited)
AI_ZMQ_HWM=1000

# Socket linger time in milliseconds on close
AI_ZMQ_LINGER_MS=0

# Enable TCP keepalive
AI_ZMQ_TCP_KEEPALIVE=1

# -----------------------------------------------------------------------------
# Tick Processor Configuration
# -----------------------------------------------------------------------------

# Tick interval in milliseconds (100ms = 10 ticks/second)
AI_TICK_INTERVAL_MS=100

# Maximum processing time per tick before warning (ms)
AI_TICK_MAX_PROCESSING_TIME_MS=80

# Number of state history entries to maintain
AI_TICK_STATE_HISTORY_SIZE=100

# Enable tick timing warnings
AI_TICK_ENABLE_TIMING_WARNINGS=true

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
AI_LOG_LEVEL=INFO

# Log output format: json, console, text
AI_LOG_FORMAT=console

# Enable file logging
AI_LOG_TO_FILE=false

# Log file path (if file logging enabled)
AI_LOG_FILE_PATH=logs/ai_sidecar.log

# Enable timestamp in logs
AI_LOG_INCLUDE_TIMESTAMP=true

# -----------------------------------------------------------------------------
# Decision Engine Configuration
# -----------------------------------------------------------------------------

# Enable stub mode (returns empty decisions)
AI_DECISION_STUB_MODE=true

# Default fallback mode when ML unavailable
AI_DECISION_FALLBACK_MODE=cpu

# Decision timeout in milliseconds
AI_DECISION_TIMEOUT_MS=50

# Minimum confidence threshold for actions
AI_DECISION_MIN_CONFIDENCE=0.5

# -----------------------------------------------------------------------------
# Health Check / Heartbeat Configuration
# -----------------------------------------------------------------------------

# Heartbeat interval in milliseconds (0 = disabled)
AI_HEARTBEAT_INTERVAL_MS=5000

# Heartbeat timeout before marking unhealthy
AI_HEARTBEAT_TIMEOUT_MS=10000

# -----------------------------------------------------------------------------
# Performance / Resource Configuration
# -----------------------------------------------------------------------------

# Maximum memory usage in MB (0 = unlimited)
AI_MAX_MEMORY_MB=512

# Enable performance profiling
AI_ENABLE_PROFILING=false

# Profiling output directory
AI_PROFILE_OUTPUT_DIR=profiles

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------

# Enable debug mode (verbose output, no optimizations)
AI_DEBUG_MODE=false

# Enable metrics collection
AI_ENABLE_METRICS=false

# Metrics export port (if metrics enabled)
AI_METRICS_PORT=9090

# =============================================================================
# Phase 8: Memory and Learning Systems
# =============================================================================

# -----------------------------------------------------------------------------
# Memory System Configuration
# -----------------------------------------------------------------------------

# SQLite database path for persistent memory
AI_MEMORY_DB_PATH=data/memory.db

# Memory consolidation interval in seconds (default: 300 = 5 minutes)
AI_MEMORY_CONSOLIDATION_INTERVAL_S=300

# Maximum working memory size (items)
AI_MEMORY_WORKING_MAX_SIZE=1000

# Session memory TTL in hours
AI_MEMORY_SESSION_TTL_HOURS=24

# -----------------------------------------------------------------------------
# Session Memory (Redis/DragonflyDB) - Optional
# -----------------------------------------------------------------------------

# Redis connection URL (optional - falls back to working memory only if not set)
# Examples:
#   redis://localhost:6379
#   redis://localhost:6379/0
#   redis://:password@localhost:6379
REDIS_URL=

# -----------------------------------------------------------------------------
# LLM Provider Configuration (All Optional)
# -----------------------------------------------------------------------------
# At least one provider should be configured for LLM-assisted features
# Providers are tried in order: OpenAI → Azure → DeepSeek → Claude

# OpenAI Configuration
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# Azure OpenAI Configuration
AZURE_OPENAI_KEY=
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-01

# DeepSeek Configuration (Cost-effective alternative)
DEEPSEEK_API_KEY=
DEEPSEEK_MODEL=deepseek-chat

# Claude (Anthropic) Configuration
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-haiku-20240307

# -----------------------------------------------------------------------------
# Learning Engine Configuration
# -----------------------------------------------------------------------------

# Learning rate for strategy updates (0.0-1.0)
AI_LEARNING_RATE=0.1

# Batch size for experience replay
AI_LEARNING_BATCH_SIZE=20

# Outcome timeout in minutes (decisions older than this are marked as failed)
AI_LEARNING_OUTCOME_TIMEOUT_MIN=5

# Experience replay interval in ticks (default: 1000 = every 1000 game ticks)
AI_LEARNING_REPLAY_INTERVAL_TICKS=1000